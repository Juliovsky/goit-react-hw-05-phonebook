{"ast":null,"code":"import _toConsumableArray from\"/Users/macylia/Projects/goit-react-hw-05-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/macylia/Projects/goit-react-hw-05-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/macylia/Projects/goit-react-hw-05-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/macylia/Projects/goit-react-hw-05-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/macylia/Projects/goit-react-hw-05-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import List from'./List/List';import Phonebook from\"./Phonebook\";var Tasks=/*#__PURE__*/function(_Component){_inherits(Tasks,_Component);var _super=_createSuper(Tasks);function Tasks(){var _this;_classCallCheck(this,Tasks);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={contacts:[],filter:''};_this.filterList=function(){if(_this.state.filter)return _this.state.contacts.filter(function(item){return item.contact.toLowerCase().includes(_this.state.filter);});return _this.state.contacts;};_this.getFilterValue=function(e){_this.setState({filter:e.target.value});};_this.getContactInfo=function(newContact){_this.setState(function(prevstate){return{contacts:[].concat(_toConsumableArray(prevstate.contacts),[newContact])};});};_this.deleteItem=function(e){var id=e.target.id;_this.setState(function(prevstate){return{contacts:_toConsumableArray(prevstate.contacts.filter(function(contact){return contact.id!==id;}))};});_this.deleteFromLocalStorage(e);};return _this;}_createClass(Tasks,[{key:\"componentDidMount\",value:function componentDidMount(){this.setState({contacts:JSON.parse(localStorage.getItem('contacts'))||[]});}},{key:\"deleteFromLocalStorage\",value:function deleteFromLocalStorage(e){var id=e.target.id;var LocalStorageArray=JSON.parse(localStorage.getItem('contacts'));var FilterArray=LocalStorageArray.filter(function(item){return item.id!==id;});contacts:localStorage.setItem('contacts',JSON.stringify(FilterArray));}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Phonebook,{getContactInfo:this.getContactInfo,contacts:this.state.contacts}),/*#__PURE__*/React.createElement(List,{contacts:this.state.contacts,filterList:this.filterList(),filter:this.state.filter,getFilterValue:this.getFilterValue,deleteItem:this.deleteItem}));}}]);return Tasks;}(Component);export default Tasks;","map":{"version":3,"sources":["/Users/macylia/Projects/goit-react-hw-05-phonebook/src/components/Tasks.js"],"names":["React","Component","List","Phonebook","Tasks","state","contacts","filter","filterList","item","contact","toLowerCase","includes","getFilterValue","e","setState","target","value","getContactInfo","newContact","prevstate","deleteItem","id","deleteFromLocalStorage","JSON","parse","localStorage","getItem","LocalStorageArray","FilterArray","setItem","stringify"],"mappings":"q0BAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAOC,CAAAA,IAAP,KAAiB,aAAjB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,C,GAEMC,CAAAA,K,uTACFC,K,CAAQ,CACJC,QAAQ,CAAE,EADN,CAEJC,MAAM,CAAE,EAFJ,C,OAcRC,U,CAAa,UAAM,CACf,GAAI,MAAKH,KAAL,CAAWE,MAAf,CACI,MAAO,OAAKF,KAAL,CAAWC,QAAX,CAAoBC,MAApB,CAA2B,SAAAE,IAAI,QAClCA,CAAAA,IAAI,CAACC,OAAL,CAAaC,WAAb,GAA2BC,QAA3B,CAAoC,MAAKP,KAAL,CAAWE,MAA/C,CADkC,EAA/B,CAAP,CAIJ,MAAO,OAAKF,KAAL,CAAWC,QAAlB,CAEH,C,OAEDO,c,CAAiB,SAACC,CAAD,CAAO,CACpB,MAAKC,QAAL,CAAc,CAACR,MAAM,CAAEO,CAAC,CAACE,MAAF,CAASC,KAAlB,CAAd,EACH,C,OAEDC,c,CAAiB,SAACC,UAAD,CAAgB,CAC7B,MAAKJ,QAAL,CAAc,SAAAK,SAAS,QAAK,CACxBd,QAAQ,8BAAMc,SAAS,CAACd,QAAhB,GAA0Ba,UAA1B,EADgB,CAAL,EAAvB,EAGH,C,OACDE,U,CAAa,SAACP,CAAD,CAAO,CAChB,GAAMQ,CAAAA,EAAE,CAAGR,CAAC,CAACE,MAAF,CAASM,EAApB,CACA,MAAKP,QAAL,CAAc,SAAAK,SAAS,QAAK,CACxBd,QAAQ,oBAAMc,SAAS,CAACd,QAAV,CAAmBC,MAAnB,CAA0B,SAAAG,OAAO,QAAIA,CAAAA,OAAO,CAACY,EAAR,GAAeA,EAAnB,EAAjC,CAAN,CADgB,CAAL,EAAvB,EAIA,MAAKC,sBAAL,CAA4BT,CAA5B,EACH,C,8FAlCmB,CAEhB,KAAKC,QAAL,CAAc,CACVT,QAAQ,CAAEkB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,GAAgD,EADhD,CAAd,EAGH,C,sEA+BsBb,C,CAAE,CACrB,GAAMQ,CAAAA,EAAE,CAAGR,CAAC,CAACE,MAAF,CAASM,EAApB,CACA,GAAMM,CAAAA,iBAAiB,CAAKJ,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAA5B,CACA,GAAIE,CAAAA,WAAW,CAAGD,iBAAiB,CAACrB,MAAlB,CAA0B,SAAAE,IAAI,QAAIA,CAAAA,IAAI,CAACa,EAAL,GAAYA,EAAhB,EAA9B,CAAlB,CACAhB,QAAQ,CAAEoB,YAAY,CAACI,OAAb,CAAqB,UAArB,CAAiCN,IAAI,CAACO,SAAL,CAAeF,WAAf,CAAjC,EAEb,C,uCAEQ,CACL,mBACI,qDACI,oBAAC,SAAD,EAAW,cAAc,CAAE,KAAKX,cAAhC,CACI,QAAQ,CAAE,KAAKb,KAAL,CAAWC,QADzB,EADJ,cAII,oBAAC,IAAD,EACI,QAAQ,CAAE,KAAKD,KAAL,CAAWC,QADzB,CAEI,UAAU,CAAE,KAAKE,UAAL,EAFhB,CAGI,MAAM,CAAE,KAAKH,KAAL,CAAWE,MAHvB,CAII,cAAc,CAAE,KAAKM,cAJzB,CAKI,UAAU,CAAG,KAAKQ,UALtB,EAJJ,CADJ,CAcH,C,mBAlEepB,S,EAqEpB,cAAeG,CAAAA,KAAf","sourcesContent":["import React, {Component} from 'react'\nimport List from './List/List'\nimport Phonebook from \"./Phonebook\";\n\nclass Tasks extends Component {\n    state = {\n        contacts: [ ],\n        filter: '',\n    }\n\n\n    componentDidMount() {\n\n        this.setState({\n            contacts: JSON.parse(localStorage.getItem('contacts')) || []\n        });\n    }\n\n\n    filterList = () => {\n        if (this.state.filter)\n            return this.state.contacts.filter(item =>\n                item.contact.toLowerCase().includes(this.state.filter)\n            );\n\n        return(this.state.contacts)\n\n    }\n\n    getFilterValue = (e) => {\n        this.setState({filter: e.target.value})\n    }\n\n    getContactInfo = (newContact) => {\n        this.setState(prevstate => ({\n            contacts: [...prevstate.contacts, newContact]\n        }))\n    }\n    deleteItem = (e) => {\n        const id = e.target.id;\n        this.setState(prevstate => ({\n            contacts: [...prevstate.contacts.filter(contact => contact.id !== id)]\n        }))\n\n        this.deleteFromLocalStorage(e)\n    }\n\n    deleteFromLocalStorage(e){\n        const id = e.target.id;\n        const LocalStorageArray = ( JSON.parse(localStorage.getItem('contacts')));\n        let FilterArray = LocalStorageArray.filter (item => item.id !== id);\n        contacts: localStorage.setItem('contacts', JSON.stringify(FilterArray))\n\n    }\n\n    render() {\n        return (\n            <>\n                <Phonebook getContactInfo={this.getContactInfo}\n                    contacts={this.state.contacts}\n                />\n                <List\n                    contacts={this.state.contacts}\n                    filterList={this.filterList()}\n                    filter={this.state.filter}\n                    getFilterValue={this.getFilterValue}\n                    deleteItem ={this.deleteItem}\n                />\n            </>\n        );\n    }\n}\n\nexport default Tasks;\n\n"]},"metadata":{},"sourceType":"module"}