{"ast":null,"code":"import _defineProperty from\"/Users/macylia/Projects/goit-react-hw-05-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/macylia/Projects/goit-react-hw-05-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/macylia/Projects/goit-react-hw-05-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/macylia/Projects/goit-react-hw-05-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/macylia/Projects/goit-react-hw-05-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{InputForm}from'./InputForm/InputForm';import{BtnFormSubmit}from'./Button/BtnFormSubmit';import{uuid}from'uuidv4';import styles from'./InputForm/inputForm.module.css';// import List from \"./List/List\";\nimport{Alert}from\"./Alert/Alert\";import alertTransition from'./Alert/transitions/alert.module.css';import{CSSTransition}from\"react-transition-group\";import css from\"./InputForm/inputForm.module.css\";// import css from \"./InputForm/inputForm.module.css\";\nvar Phonebook=/*#__PURE__*/function(_Component){_inherits(Phonebook,_Component);var _super=_createSuper(Phonebook);function Phonebook(){var _this;_classCallCheck(this,Phonebook);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={contact:'',number:'',isOpen:false,isAlert:false};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.checkContactExist=function(contactName){_this.setState(function(prevstate){return{isAlert:!prevstate.isAlert};});};_this.getExist=function(){var allContacts=_this.props.contacts;var include=allContacts.filter(function(item){return item.contact.toLowerCase().includes(_this.state.contact.toLowerCase());});return include.length!==0;};_this.handleSubmit=function(e){e.preventDefault();var contact=_this.state.contact;var number=_this.state.number;if(contact&&number&&!_this.getExist()){var newContact={id:uuid(),contact:contact,number:number};_this.props.getContactInfo(newContact);_this.setState({contact:'',number:''});_this.saveToLocalStorage(newContact);}else{_this.checkContactExist();}};return _this;}_createClass(Phonebook,[{key:\"componentDidMount\",value:function componentDidMount(){this.setState({isOpen:true,isAlert:false});}},{key:\"saveToLocalStorage\",value:function saveToLocalStorage(contact){if(!localStorage.getItem('contacts')){localStorage.setItem('contacts',JSON.stringify([]));}var localStorageArray=JSON.parse(localStorage.getItem('contacts'));console.log(localStorageArray);localStorageArray.push(contact);contacts:localStorage.setItem('contacts',JSON.stringify(localStorageArray));}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit,className:styles.form},/*#__PURE__*/React.createElement(InputForm,{desForm:this.state.isOpen,contact:this.state.contact,number:this.state.number,handleChange:this.handleChange}),/*#__PURE__*/React.createElement(BtnFormSubmit,null)),/*#__PURE__*/React.createElement(CSSTransition,{in:this.state.isAlert,timeout:2000,classNames:alertTransition,unmountOnExit:true},/*#__PURE__*/React.createElement(Alert,{contact:this.state.contact})));}}]);return Phonebook;}(Component);export default Phonebook;","map":{"version":3,"sources":["/Users/macylia/Projects/goit-react-hw-05-phonebook/src/components/Phonebook.js"],"names":["React","Component","InputForm","BtnFormSubmit","uuid","styles","Alert","alertTransition","CSSTransition","css","Phonebook","state","contact","number","isOpen","isAlert","handleChange","e","setState","target","name","value","checkContactExist","contactName","prevstate","getExist","allContacts","props","contacts","include","filter","item","toLowerCase","includes","length","handleSubmit","preventDefault","newContact","id","getContactInfo","saveToLocalStorage","localStorage","getItem","setItem","JSON","stringify","localStorageArray","parse","console","log","push","form"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport {InputForm} from './InputForm/InputForm';\nimport {BtnFormSubmit} from './Button/BtnFormSubmit';\nimport {uuid} from 'uuidv4';\nimport styles from './InputForm/inputForm.module.css'\n// import List from \"./List/List\";\nimport {Alert} from \"./Alert/Alert\";\nimport alertTransition from './Alert/transitions/alert.module.css'\nimport {CSSTransition} from \"react-transition-group\";\nimport css from \"./InputForm/inputForm.module.css\";\n\n\n// import css from \"./InputForm/inputForm.module.css\";\n\n\nclass Phonebook extends Component {\n    state = {\n        contact: '',\n        number: '',\n        isOpen: false,\n        isAlert: false,\n\n\n    };\n\n    componentDidMount() {\n\n        this.setState({\n            isOpen: true,\n            isAlert: false\n        });\n\n    }\n\n\n    handleChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    };\n\n    checkContactExist = (contactName) => {\n        this.setState(prevstate=>({isAlert:!prevstate.isAlert}))\n    }\n\n    getExist=()=>{\n        const allContacts = this.props.contacts;\n        const include = allContacts.filter(item =>\n            item.contact.toLowerCase()\n                .includes(this.state.contact.toLowerCase())\n        );\n        return (include.length !== 0);\n    }\n\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        const contact = this.state.contact;\n        const number = this.state.number;\n        if (contact && number && !this.getExist()) {\n                const newContact = {id: uuid(), contact, number}\n                this.props.getContactInfo(newContact);\n                this.setState({contact: '', number: ''});\n                this.saveToLocalStorage(newContact);\n        }else{\n            this.checkContactExist()\n        }\n    }\n\n\n    saveToLocalStorage(contact) {\n        if (!localStorage.getItem('contacts')) {\n            localStorage.setItem('contacts', JSON.stringify([]));\n        }\n\n        let localStorageArray = JSON.parse((localStorage.getItem('contacts')));\n        console.log(localStorageArray)\n\n        localStorageArray.push(contact);\n        contacts: localStorage.setItem('contacts', JSON.stringify(localStorageArray))\n    }\n\n\n    render() {\n\n        return (\n            <>\n            <form onSubmit={this.handleSubmit} className={styles.form}>\n                <InputForm\n                    desForm={this.state.isOpen}\n                    contact={this.state.contact}\n                    number={this.state.number}\n                    handleChange={this.handleChange}\n                />\n                <BtnFormSubmit/>\n            </form>\n                <CSSTransition in={this.state.isAlert} timeout={2000} classNames={alertTransition} unmountOnExit>\n                    <Alert contact={this.state.contact} />\n                </CSSTransition>\n             </>\n\n        );\n    }\n\n}\n\nexport default Phonebook;\n\n"]},"metadata":{},"sourceType":"module"}